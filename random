# 13.1. Plot Top 15 Feature Importances
top_features = coef_df.head(15)

plt.figure(figsize=(10, 6))
ax = sns.barplot(x="Coefficient", y="Feature", data=top_features, palette="viridis")

# Add value labels to bars
for i, (coef, feature) in enumerate(zip(top_features["Coefficient"], top_features["Feature"])):
    ax.text(coef + 0.02 if coef >= 0 else coef - 0.02, i, f"{coef:.2f}",
            va='center', ha='left' if coef >= 0 else 'right', fontsize=9, color='black')

plt.title("Top 15 Feature Importances (Linear Regression)")
plt.xlabel("Coefficient Value (Impact on Cycle Time)")
plt.ylabel("Feature")
plt.tight_layout()
plt.show()
